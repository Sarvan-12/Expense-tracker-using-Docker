<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto max-w-xl mt-12 p-6 bg-white rounded-2xl shadow-lg">

        <header class="mb-8 text-center">
            <h1 class="text-3xl font-bold text-slate-900">Expense Tracker</h1>
            <p class="text-slate-500 mt-1">Track your spending, one expense at a time.</p>
        </header>

        <!-- Add Expense Form -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold mb-4">Add New Expense</h2>
            <form id="expense-form" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="sm:col-span-1">
                    <label for="expense-text" class="block text-sm font-medium text-slate-600 mb-1">Description</label>
                    <input type="text" id="expense-text" placeholder="e.g., Coffee" class="w-full px-4 py-2 bg-slate-100 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition" required>
                </div>
                <div class="sm:col-span-1">
                    <label for="expense-amount" class="block text-sm font-medium text-slate-600 mb-1">Amount ($)</label>
                    <input type="number" id="expense-amount" placeholder="e.g., 4.50" class="w-full px-4 py-2 bg-slate-100 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition" required>
                </div>
                <button type="submit" class="sm:col-span-2 w-full bg-indigo-600 text-white font-semibold py-2.5 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition shadow-sm">
                    Add Expense
                </button>
            </form>
        </div>

        <!-- Expense List -->
        <div>
            <h2 class="text-xl font-semibold mb-4 border-t border-slate-200 pt-6">History</h2>
            <ul id="expense-list" class="space-y-3">
                <!-- Expenses will be added here dynamically -->
            </ul>
             <p id="no-expenses" class="text-center text-slate-500 py-4">No expenses added yet. Start tracking!</p>
        </div>

         <!-- Total -->
        <div class="mt-8 border-t border-slate-200 pt-4 flex justify-between items-center">
            <h3 class="text-lg font-bold">Total:</h3>
            <span id="total-expenses" class="text-2xl font-bold text-slate-900">$0.00</span>
        </div>

    </div>

    <script>
        const expenseForm = document.getElementById('expense-form');
        const expenseText = document.getElementById('expense-text');
        const expenseAmount = document.getElementById('expense-amount');
        const expenseList = document.getElementById('expense-list');
        const totalExpensesEl = document.getElementById('total-expenses');
        const noExpensesEl = document.getElementById('no-expenses');

        // Load expenses from localStorage
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];

        // Add expense item to DOM
        function addExpenseToDOM(expense) {
            const item = document.createElement('li');
            const amount = parseFloat(expense.amount);
            const sign = amount < 0 ? '-' : '+';
            const amountAbs = Math.abs(amount);
            const borderColor = amount < 0 ? 'border-red-400' : 'border-green-400';

            item.innerHTML = `
                <div class="flex justify-between items-center p-3 bg-slate-50 rounded-lg border-r-4 ${borderColor} shadow-sm">
                    <span class="font-medium">${expense.text}</span>
                    <div class="flex items-center gap-4">
                        <span class="font-semibold text-slate-800">${sign}$${amountAbs.toFixed(2)}</span>
                        <button onclick="removeExpense(${expense.id})" class="text-red-500 hover:text-red-700 transition">&times;</button>
                    </div>
                </div>
            `;
            expenseList.appendChild(item);
        }

        // Update total and visibility
        function updateUI() {
            expenseList.innerHTML = '';
            if (expenses.length === 0) {
                noExpensesEl.style.display = 'block';
            } else {
                noExpensesEl.style.display = 'none';
                expenses.forEach(addExpenseToDOM);
            }

            const total = expenses.reduce((acc, item) => acc + parseFloat(item.amount), 0);
            totalExpensesEl.textContent = `$${total.toFixed(2)}`;

            // Save to local storage
            localStorage.setItem('expenses', JSON.stringify(expenses));
        }


        // Add new expense
        function addExpense(e) {
            e.preventDefault();

            if (expenseText.value.trim() === '' || expenseAmount.value.trim() === '') {
                alert('Please add a description and amount.');
                return;
            }

            const newExpense = {
                id: Date.now(),
                text: expenseText.value,
                amount: expenseAmount.value
            };

            expenses.push(newExpense);
            updateUI();

            expenseText.value = '';
            expenseAmount.value = '';
            expenseText.focus();
        }

        // Remove expense
        function removeExpense(id) {
            expenses = expenses.filter(expense => expense.id !== id);
            updateUI();
        }


        // Event Listeners
        expenseForm.addEventListener('submit', addExpense);

        // Initial load
        document.addEventListener('DOMContentLoaded', updateUI);
    </script>
</body>
</html>
